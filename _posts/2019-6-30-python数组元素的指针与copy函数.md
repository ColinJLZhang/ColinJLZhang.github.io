---
layout:     post
title:      python数组的下标与指针
subtitle:   copy函数的用处
date:       2019-06-30
author:     Colin
header-img: img/post-bg-swift.jpg
catalog: true
comments: true
tags:
    - python
---
## 一个有趣的例子

我们先做一个有趣的实验，我们有下面这样的代码，你觉得会输出什么？

```python
def function(x):
    x[0] = 'hi'

a = [1,2,3]
b = a
c = a.copy()

function(a)
```
请问我们现在,a,b,c的值是多少呢？<br>
\>>>a = ['hi', 2, 3] 这或许我们还可以理解function改变了第一个元素。<br>
\>>>b = ['hi', 2, 3] 有趣！b居然也发生了改变！这和python的变量引用有很大的关系，实际上这里的'b = a'只是把b也指向了a所指向的地址，所以当直接对a指向的地址进行操作时自然b也会发生变化。<br>
\>>>c = [1,2,3] 因为存在这样的情况所以就会出现copy函数，它的作用正是在内存中复制一份，而不是直接指向。

## 另一个有趣的例子
但是请注意一定是对数组的指针进行操作的时候才会出现同时改变（这里的指针可以不严谨的认为就是对下边的操作），我们来看另外一个例子：

```python
a = [1,2,3]
b = a
a = a +['Hi']
```
\>>>a = [1,2,3,'Hi'], 显然应该是这个结果<br>
\>>>b = [1,2,3]， 为什么这里没有变化呢？因为这里不是对指针的操作，我想本质的原因可能是'a = a + ['Hi']' 重新在内存中分配了一个区域，而并不是在原来的地址上直接进行操作。

**HAPPY HACKING!**